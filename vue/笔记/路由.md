# Vue Router 笔记

## 1. 相关概念

### vue-router

vue插件， 用来实现SPA应用， single page web application

### SPA

single page web application

![20220605210033](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605210033.png)

1. html页面
2. 数据 由ajax请求获取

![20220605210511](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605210511.png)

### 路由

![20220605205907](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605205907.png)

1. 什么是路由？
    - 一个路由 就是一组映射 关系 key-value组合

    - key为路径， value为 `function` or `component`

1. 路由分类

- 前端路由
  - value为component 用于展示页面内容
  - 当浏览器的路径发生变化时， 展示对应的组件
- 后端路由
  - value 为一个函数 ， 处理不同的请求
  - 当服务器接收到一个请求时， 根据路径找到匹配的函数来处理请求， 返回响应的函数

## 2. 路由基本 使用

### 2.1 效果

点即不同的button, 路径改变， 样式改变

多页面应用 -> 单页面应用

### 2.2 使用

1. 安装路由

`npm i vue-router`

2. 应用插件：
`Vue.use(VueRouter)`

1. 配置文件：

```js
// 创建路由器
import VueRouter from "vue-router";

// 引入组件
import MyHome from '../components/Home.vue'
import MyAbout from '../components/About.vue'

// 创建
const router = new VueRouter ({
    // 配置
    routes: [
        {
            path:'/about',
            component:MyAbout
        },
        {
            path:'/home',
            component:MyHome
        },
    ]
})

export default router
```

1. 切换

`<router-link class="list-group-item" to="/about">About</router-link>`

替换 `a`标签 

`active-class`该元素被激活时候的样式；


5. 展示

使用`<router-view></router-view>`展示对应的页面

指定组件的呈现位置

![20220605214052](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605214052.png)


![20220605214104](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605214104.png)

### 2.3 代码

`src/router/index.js` 创建整个应用的路由器

```js
// 创建路由器
import VueRouter from "vue-router";

// 引入组件
import MyHome from '../components/Home.vue'
import MyAbout from '../components/About.vue'

// 创建
const router = new VueRouter ({
    // 配置
    routes: [
        {
            path:'/about',
            component:MyAbout
        },
        {
            path:'/home',
            component:MyHome
        },
    ]
})

export default router
```
`main.js`
```js
import Vue from "vue";
// 引入app
import App from './App.vue'
//引入 rooter
import VueRouter from 'vue-router'

// 引入路由器
import router from './router/index.js'

// 生产环境
Vue.config.productionTip = false

Vue.use(VueRouter)
// 创建实例对象


new Vue({
    el: "#app",

    render: h => h(App),
    //router配置项
    router:router
})
```

`src/App.vue`

```vue
<template>
  <div>
    <div class="row">
      <div class="col-xs-offset-2 col-xs-8">
        <div class="page-header"><h2>Vue Router Demo</h2></div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-2 col-xs-offset-2">
        <div class="list-group">
          <!-- 之前使用a标签跳转，  -->
          <!-- <a class="list-group-item" href="./about.html">About</a>
          <a class="list-group-item active" href="./home.html">Home</a> -->

          <router-link class="list-group-item" active-class="active" to="/about">About</router-link>
          <router-link class="list-group-item" active-class="active" to="/home">Home</router-link>
        </div>
      </div>
      <div class="col-xs-6">
        <div class="panel">
          <div class="panel-body">
            <router-view></router-view>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "App",
};
</script>

```

`src/Home.vue`和`scr/About`

```js
<template>
  <h2>我是Home的内容</h2>
</template>

<script>
export default {
  name: "MyHome",
};
</script>

// about
<template>
  <h2>我是About的内容</h2>
</template>

<script>
export default {
  name: "MyAboout",
};
</script>
```

## 3. 几个注意点

### 组件分裂

1. 路由组件和一般组件：

一般组件： 再App中 引用了 组件
如：
![20220605214951](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605214951.png)

路由组件：

router配置组件

然后份文件保存不同的组件：

![20220605215459](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605215459.png)
2. 不用的路由组件， 被销毁

需要的时候再去挂载；

3. 每一个组件都有自己的`$route`属性， 俩面保存这自己的路由属性；

![20220605215649](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605215649.png)

`$router`只有一个， 一个应用只有一个路由器，

## 4. 多级路由（嵌套路由）

![20220605220116](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20220605220116.png)

1。 路由配置， 使用 `children`配置， value为一个数组， 数组的内容为 子路由的配置参数
在上一级页面中设置 页面的调转地址及 展示的形式
如 在`home`中配置两个路由，
