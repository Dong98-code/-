{"remainingRequest":"D:\\daily files\\前端学习\\推电影\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\daily files\\前端学习\\推电影\\vue-cli3 demo\\src\\views\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\daily files\\前端学习\\推电影\\vue-cli3 demo\\src\\views\\login\\login.vue","mtime":1655111857947},{"path":"D:\\daily files\\前端学习\\推电影\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\daily files\\前端学习\\推电影\\vue-cli3 demo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\daily files\\前端学习\\推电影\\vue-cli3 demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\daily files\\前端学习\\推电影\\vue-cli3 demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgSGVhZFRvcCBmcm9tICJAL2NvbXBvbmVudHMvaGVhZGVyL0hlYWQiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJsb2dpbiIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG5hbWU6ICIiLA0KICAgICAgcGFzc3dvcmQ6ICIiLA0KICAgICAgaW5wdXRUeXBlOiAicGFzc3dvcmQiLA0KICAgICAgcGFzc3dvcmRDbGFzczogImljb24taW5wdXQtc2hvdyIsDQogICAgfTsNCiAgfSwNCg0KICBjb21wb25lbnRzOiB7DQogICAgSGVhZFRvcCwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v5o+Q5Lqk55m75b2VDQogICAgYXN5bmMgc3VibWl0KCkgew0KICAgICAgbGV0IHVzZXJOYW1lID0gdGhpcy5uYW1lOw0KICAgICAgbGV0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDsNCg0KICAgICAgaWYgKHZhbGlkYXRlVXNlck5hbWUodXNlck5hbWUpICE9ICJvayIpIHsNCiAgICAgICAgdGhpcy4kdG9hc3QoIueUqOaIt+WQjeagvOW8j+S4jeato+ehriIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBpZiAodmFsaWRhdGVQYXNzd29yZChwYXNzd29yZCkgIT0gIm9rIikgew0KICAgICAgICB0aGlzLiR0b2FzdCgi5a+G56CB5qC85byP5LiN5q2j56GuIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGNvbnN0IHJldCA9IGF3YWl0IHRoaXMuJGh0dHANCiAgICAgICAgLnBvc3QoDQogICAgICAgICAgIi91L2FqYXgvbG9naW5WZXJpZnkiLA0KICAgICAgICAgIHRoaXMuJHFzLnN0cmluZ2lmeSh7DQogICAgICAgICAgICB1c2VyTmFtZTogdXNlck5hbWUsDQogICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsDQogICAgICAgICAgICBjb2RlOiAiIiwNCiAgICAgICAgICAgIGNhbGxiYWNrOiAiMTIzIiwNCiAgICAgICAgICAgIGNsaWVudElkOiAiMCIsDQogICAgICAgICAgICBwbGF0Zm9ybTogMCwNCiAgICAgICAgICB9KQ0KICAgICAgICApDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgocmVzKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgfSk7DQogICAgICBpZiAocmV0LnN1Y2Nlc3MpIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJHRvYXN0KHJldC5tc2cpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/lr4bnoIHlj6/op4ENCiAgICBzaG93UFcoKSB7DQogICAgICBpZiAodGhpcy5pbnB1dFR5cGUgPT0gInBhc3N3b3JkIikgew0KICAgICAgICB0aGlzLmlucHV0VHlwZSA9ICJ0ZXh0IjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuaW5wdXRUeXBlID0gInBhc3N3b3JkIjsNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkQ2xhc3MgPT0gImljb24taW5wdXQtc2hvdyIpIHsNCiAgICAgICAgdGhpcy5wYXNzd29yZENsYXNzID0gImljb24taW5wdXQtcGFzc3dvcmQiOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5wYXNzd29yZENsYXNzID0gImljb24taW5wdXQtc2hvdyI7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQpmdW5jdGlvbiB2YWxpZGF0ZVVzZXJOYW1lKHVzZXJOYW1lKSB7DQogIGlmICh1c2VyTmFtZSA9PSBudWxsIHx8IHVzZXJOYW1lID09ICIiKSByZXR1cm4gIueUqOaIt+WQjeS4jeiDveS4uuepuiI7DQogIGxldCB1c2VyTmFtZUxlbiA9IHVzZXJOYW1lLmxlbmd0aDsNCiAgaWYgKHVzZXJOYW1lTGVuID4gMjAgfHwgdXNlck5hbWVMZW4gPCAyKSB7DQogICAgcmV0dXJuICLotKblj7fplb/luqbkuLoyLTIw5L2N77yM6K+36YeN5paw6L6T5YWlIjsNCiAgfQ0KICAvLyAvdTRlMDAtL3U5ZmE15LiK6L+w5piv5Lul5rGJ5a2X5byA5aeL5Lul5rGJ5a2X57uT5p2f44CCDQogIGxldCByZWd1MSA9ICJeKD8hXykoPyEuKj9fJClbYS16QS1aMC05X1x1NGUwMC1cdTlmYTVdKyQiOw0KICBsZXQgcmUgPSBuZXcgUmVnRXhwKHJlZ3UxKTsNCiAgaWYgKCFyZS50ZXN0KHVzZXJOYW1lKSkgew0KICAgIHJldHVybiAi55So5oi35ZCN5Y+q6IO95YyF5ZCr5a2X5q+N44CB5rGJ5a2X44CB5pWw5a2XIjsNCiAgfQ0KDQogIHJldHVybiAib2siOw0KfQ0KDQpmdW5jdGlvbiB2YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkKSB7DQogIGlmIChwYXNzd29yZCA9PSBudWxsIHx8IHBhc3N3b3JkID09ICIiKSB7DQogICAgcmV0dXJuICLlr4bnoIHkuI3og73kuLrnqboiOw0KICB9DQoNCiAgbGV0IHBhc3N3b3JkTGVuID0gcGFzc3dvcmQubGVuZ3RoOw0KICBpZiAocGFzc3dvcmRMZW4gPiAyMCB8fCBwYXNzd29yZExlbiA8IDYpIHsNCiAgICByZXR1cm4gIuWvhueggemVv+W6puS4ujYtMjDkvY3vvIzor7fph43mlrDovpPlhaUiOw0KICB9DQogIGxldCBwd1JlZ3UgPSAiXig/IV8pKD8hLio/XyQpW2EtekEtWjAtOV0rJCI7DQogIGxldCBwd1JlID0gbmV3IFJlZ0V4cChwd1JlZ3UpOw0KICBpZiAoIXB3UmUudGVzdChwYXNzd29yZCkpIHsNCiAgICByZXR1cm4gIuWvhueggeWPquiDveWMheWQq+aVsOWtl+WSjOWtl+avjSI7DQogIH0NCiAgcmV0dXJuICJvayI7DQp9DQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n  <div>\r\n    <HeadTop head-title=\"\" go-back=\"true\"></HeadTop>\r\n    <div id=\"wrapper\">\r\n      <div id=\"middle\" class=\"container\">\r\n        <div class=\"title\">hello，欢迎回来</div>\r\n        <div class=\"account-form\">\r\n          <div class=\"account-form-group has-error\">\r\n            <!--下面这行是为了避免chrome自动填充，触发focus和blur事件-->\r\n            <input type=\"text\" name=\"txtuserName\" style=\"display: none\" />\r\n            <input\r\n              type=\"text\"\r\n              name=\"txtuserName\"\r\n              class=\"account-form-control js-input-name\"\r\n              v-model.trim=\"name\"\r\n              autocomplete=\"off\"\r\n              maxlength=\"20\"\r\n              placeholder=\"用户名或手机号\"\r\n            />\r\n          </div>\r\n          <div class=\"account-form-group has-error\">\r\n            <!--下面这行是为了避免chrome自动填充，触发focus和blur事件-->\r\n            <input :type=\"inputType\" name=\"txtPassword\" style=\"display: none\" />\r\n            <input\r\n              :type=\"inputType\"\r\n              name=\"txtPassword\"\r\n              class=\"account-form-control js-input-password\"\r\n              autocomplete=\"off\"\r\n              v-model.trim=\"password\"\r\n              maxlength=\"20\"\r\n              placeholder=\"请输入密码\"\r\n            />\r\n            <i\r\n              class=\"imwap-visibility js-showpw iconfont\"\r\n              :class=\"passwordClass\"\r\n              @click=\"showPW\"\r\n            ></i>\r\n          </div>\r\n          <div class=\"account-form-group button-row\">\r\n            <div class=\"account-form-tip js-error\"></div>\r\n            <div\r\n              href=\"javascript:void(0)\"\r\n              class=\"account-form-btn js-btn-login\"\r\n              @click=\"submit\"\r\n            >\r\n              登录\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"account-sns-login\">\r\n        <div class=\"tit\">\r\n          <div class=\"line\"></div>\r\n          <p>测试环境仅支持已有账号登录</p>\r\n          <div class=\"line\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HeadTop from \"@/components/header/Head\";\r\n\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      password: \"\",\r\n      inputType: \"password\",\r\n      passwordClass: \"icon-input-show\",\r\n    };\r\n  },\r\n\r\n  components: {\r\n    HeadTop,\r\n  },\r\n  methods: {\r\n    //提交登录\r\n    async submit() {\r\n      let userName = this.name;\r\n      let password = this.password;\r\n\r\n      if (validateUserName(userName) != \"ok\") {\r\n        this.$toast(\"用户名格式不正确\");\r\n        return;\r\n      }\r\n      if (validatePassword(password) != \"ok\") {\r\n        this.$toast(\"密码格式不正确\");\r\n        return;\r\n      }\r\n      const ret = await this.$http\r\n        .post(\r\n          \"/u/ajax/loginVerify\",\r\n          this.$qs.stringify({\r\n            userName: userName,\r\n            password: password,\r\n            code: \"\",\r\n            callback: \"123\",\r\n            clientId: \"0\",\r\n            platform: 0,\r\n          })\r\n        )\r\n        .then((res) => {\r\n          return res.data;\r\n        })\r\n        .catch((res) => {\r\n          console.log(res);\r\n        });\r\n      if (ret.success) {\r\n        this.$router.go(-1);\r\n      } else {\r\n        this.$toast(ret.msg);\r\n      }\r\n    },\r\n    //密码可见\r\n    showPW() {\r\n      if (this.inputType == \"password\") {\r\n        this.inputType = \"text\";\r\n      } else {\r\n        this.inputType = \"password\";\r\n      }\r\n      if (this.passwordClass == \"icon-input-show\") {\r\n        this.passwordClass = \"icon-input-password\";\r\n      } else {\r\n        this.passwordClass = \"icon-input-show\";\r\n      }\r\n    },\r\n  },\r\n};\r\nfunction validateUserName(userName) {\r\n  if (userName == null || userName == \"\") return \"用户名不能为空\";\r\n  let userNameLen = userName.length;\r\n  if (userNameLen > 20 || userNameLen < 2) {\r\n    return \"账号长度为2-20位，请重新输入\";\r\n  }\r\n  // /u4e00-/u9fa5上述是以汉字开始以汉字结束。\r\n  let regu1 = \"^(?!_)(?!.*?_$)[a-zA-Z0-9_\\u4e00-\\u9fa5]+$\";\r\n  let re = new RegExp(regu1);\r\n  if (!re.test(userName)) {\r\n    return \"用户名只能包含字母、汉字、数字\";\r\n  }\r\n\r\n  return \"ok\";\r\n}\r\n\r\nfunction validatePassword(password) {\r\n  if (password == null || password == \"\") {\r\n    return \"密码不能为空\";\r\n  }\r\n\r\n  let passwordLen = password.length;\r\n  if (passwordLen > 20 || passwordLen < 6) {\r\n    return \"密码长度为6-20位，请重新输入\";\r\n  }\r\n  let pwRegu = \"^(?!_)(?!.*?_$)[a-zA-Z0-9]+$\";\r\n  let pwRe = new RegExp(pwRegu);\r\n  if (!pwRe.test(password)) {\r\n    return \"密码只能包含数字和字母\";\r\n  }\r\n  return \"ok\";\r\n}\r\n</script>\r\n\r\n    <style lang=\"scss\" scoped>\r\n#wrapper {\r\n  background-color: #fff;\r\n  height: 100%;\r\n  width: 100%;\r\n  position: fixed;\r\n}\r\n.container {\r\n  padding: 0.8rem;\r\n  font-size: 0.37333333rem;\r\n  .title {\r\n    font-size: 26px;\r\n    font-weight: bold;\r\n  }\r\n  .account-form {\r\n    text-align: center;\r\n    margin-top: 1rem;\r\n    .account-form-group {\r\n      position: relative;\r\n      overflow: hidden;\r\n      padding-bottom: 0.4rem;\r\n      .account-form-control {\r\n        margin-bottom: 0.21333333rem;\r\n        padding-left: 0.13333333rem;\r\n        display: block;\r\n        width: 100%;\r\n        color: #787d82;\r\n        box-sizing: border-box;\r\n        border-bottom: 1px solid #d9dde1;\r\n        height: 1.33333333rem;\r\n        font-size: 0.37333333rem;\r\n        .verify {\r\n          float: left;\r\n          width: 4.8rem;\r\n        }\r\n        .verify-row {\r\n          display: none;\r\n        }\r\n      }\r\n      .account-form-tip {\r\n        display: none;\r\n        color: #ff2d50;\r\n        clear: both;\r\n        font-size: 0.32rem;\r\n        line-height: 0.53333333rem;\r\n        text-align: left;\r\n      }\r\n      .imwap-visibility {\r\n        position: absolute;\r\n        color: #333;\r\n        top: 0.42666667rem;\r\n        right: 0.13333333rem;\r\n        font-size: 16px;\r\n      }\r\n      .icon-cha {\r\n        position: absolute;\r\n        color: #333;\r\n        top: 0.42666667rem;\r\n        right: 0.13333333rem;\r\n        font-size: 14px;\r\n      }\r\n      .account-form-btn {\r\n        display: block;\r\n        margin-top: 0.8rem;\r\n        color: #fff;\r\n        background: #f9a74b;\r\n        font-size: 0.42666667rem;\r\n        line-height: 1.2rem;\r\n        border-radius: 0.13333333rem;\r\n      }\r\n      img {\r\n        float: right;\r\n        border: 1px solid #d9dde1;\r\n        box-sizing: border-box;\r\n        height: 1.12rem;\r\n      }\r\n    }\r\n  }\r\n  .forget-password-box {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 0.13333333rem;\r\n    a {\r\n      display: block;\r\n      height: 0.45333333rem;\r\n      padding: 0 0.53333333rem;\r\n      font-size: 14px;\r\n      line-height: 0.45333333rem;\r\n    }\r\n  }\r\n}\r\n.account-sns-login {\r\n  margin-top: 2rem;\r\n  height: 100px;\r\n  width: 100%;\r\n  .tit {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    .line {\r\n      margin: 0 0.26666667rem;\r\n      width: 1.28rem;\r\n      height: 0.05333333rem;\r\n      background-color: #e8e8e8;\r\n    }\r\n    p {\r\n      color: #aeaeae;\r\n    }\r\n  }\r\n  ul {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 0.53333333rem;\r\n    .account-sns-login ul li {\r\n      margin: 0 0.8rem;\r\n      i {\r\n        font-size: 30px;\r\n        color: #cbcbcb;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}